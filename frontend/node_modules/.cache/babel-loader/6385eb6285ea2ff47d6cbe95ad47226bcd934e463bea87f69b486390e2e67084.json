{"ast":null,"code":"import{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Navbar(){const[isAuthenticated,setIsAuthenticated]=useState(false);const[isAdmin,setIsAdmin]=useState(false);const navigate=useNavigate();useEffect(()=>{const token=localStorage.getItem('token');if(token){setIsAuthenticated(true);const user=JSON.parse(atob(token.split('.')[1])).user;setIsAdmin(user.isAdmin);}},[]);const handleLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('userId');setIsAuthenticated(false);setIsAdmin(false);navigate('/login');};const openSupportChat=()=>{alert('Contact customer support for payment or transaction queries.');// Placeholder for live chat integration (e.g., Tawk.to)\n};return/*#__PURE__*/_jsxs(\"nav\",{className:\"bg-blue-600 text-white p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto flex justify-between items-center\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-2xl font-bold\",children:\"India's No.1 TradeHub\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-x-4\",children:isAuthenticated?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/trade\",className:\"hover:underline\",children:\"Trade\"}),/*#__PURE__*/_jsx(Link,{to:\"/transaction\",className:\"hover:underline\",children:\"Transactions\"}),/*#__PURE__*/_jsx(Link,{to:\"/kyc\",className:\"hover:underline\",children:\"KYC\"}),isAdmin&&/*#__PURE__*/_jsx(Link,{to:\"/admin\",className:\"hover:underline\",children:\"Admin Panel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"hover:underline\",children:\"Logout\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"hover:underline\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"hover:underline\",children:\"Register\"})]})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"support-chat\",onClick:openSupportChat,children:\"Support Chat\"})]});}export default Navbar;","map":{"version":3,"names":["useState","useEffect","Link","useNavigate","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Navbar","isAuthenticated","setIsAuthenticated","isAdmin","setIsAdmin","navigate","token","localStorage","getItem","user","JSON","parse","atob","split","handleLogout","removeItem","openSupportChat","alert","className","children","to","onClick"],"sources":["C:/Users/Administrator/Desktop/indias-no1-tradehub/frontend/src/components/Navbar.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nfunction Navbar() {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      setIsAuthenticated(true);\r\n      const user = JSON.parse(atob(token.split('.')[1])).user;\r\n      setIsAdmin(user.isAdmin);\r\n    }\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('userId');\r\n    setIsAuthenticated(false);\r\n    setIsAdmin(false);\r\n    navigate('/login');\r\n  };\r\n\r\n  const openSupportChat = () => {\r\n    alert('Contact customer support for payment or transaction queries.');\r\n    // Placeholder for live chat integration (e.g., Tawk.to)\r\n  };\r\n\r\n  return (\r\n    <nav className=\"bg-blue-600 text-white p-4\">\r\n      <div className=\"container mx-auto flex justify-between items-center\">\r\n        <Link to=\"/\" className=\"text-2xl font-bold\">India's No.1 TradeHub</Link>\r\n        <div className=\"space-x-4\">\r\n          {isAuthenticated ? (\r\n            <>\r\n              <Link to=\"/trade\" className=\"hover:underline\">Trade</Link>\r\n              <Link to=\"/transaction\" className=\"hover:underline\">Transactions</Link>\r\n              <Link to=\"/kyc\" className=\"hover:underline\">KYC</Link>\r\n              {isAdmin && <Link to=\"/admin\" className=\"hover:underline\">Admin Panel</Link>}\r\n              <button onClick={handleLogout} className=\"hover:underline\">Logout</button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Link to=\"/login\" className=\"hover:underline\">Login</Link>\r\n              <Link to=\"/register\" className=\"hover:underline\">Register</Link>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <button className=\"support-chat\" onClick={openSupportChat}>Support Chat</button>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navbar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}